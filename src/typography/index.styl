@require '../tokens/'

@property --ceilLines
	syntax '<integer>'
	initial-value 0
	inherits false

@property --ceilHalfLine
	syntax '<integer>'
	initial-value 0
	inherits false

[class*='font'], [class*='text'], [class*='heading'], .paragraph, .list
	--baseline: $tk.RhythmVertical.varDef
	--ceilLines calc(var(--lines))
	--FontFamily: $tk.FontFamilyDefault.val
	--FontSize: $tk.FontSizeDefault.varDef
	--FontSizeCalc var(--FontSizeDefault, calc(var(--baseline) * var(--lines)))
	--FontStyle normal
	--FontVariant normal
	--FontWeight 400
	--LineHeight calc(var(--baseline) * var(--ceilLines))
	--lines 1
	--TextTransform none
	--MarginBottom 0
	--TextAlign var(--TextAlign, left)
	color var(--color, var(--ColorText, #212529))
	font var(--FontStyle) var(--FontVariant) var(--FontWeight) unquote('var(--FontSizeCalc)/var(--LineHeight)') var(--FontFamily)
	// bug with custom properties with sintax var/var for font shorthand
	font-family var(--FontFamily)
	margin 0 0 calc(var(--MarginBottom) * var(--baseline)) 0
	padding 0
	text-transform var(--TextTransform)
	text-align var(--TextAlign)

[class*='heading']
	--lines 3
	--ceilHalfLine calc(calc((var(--lines) / 2)) + 0.5)
	--FontWeight 600
	--FontSize calc(var(--baseline) * calc(var(--lines)))
	--LineHeight calc(var(--baseline) * var(--ceilLines))
	--FontFamily: $tk.FontFamilyHeading.val
	// ??? --FontFamily $tk.FontFamilyDefault.val
	--MarginBottom var(--ceilHalfLine)

.heading
	&00
		--lines 6

	&0
		--lines 4

	&1
		--lines 3

	&2
		--lines 2.75

	&3
		--lines 2.25

	&4
		--lines 1.75

	&5
		--lines 1.5

	&6
		--lines 1.25

.paragraph
	--MarginBottom 1

	&:only-child
		margin 0

.blockquote
	--baseline: $tk.RhythmVertical.varDef
	margin 0
	padding var(--baseline)

.list
	--listCounterSeparator ''
	--listStyleType disc
	--marginLeft 0
	counter-reset listCounter
	list-style none
	margin-bottom calc(var(--baseline) * 2)

	& > *
		counter-increment listCounter
		margin-bottom calc((var(--baseline) / 1))

		&:before
			display inline-block
			min-width calc(var(--baseline) * 1.5)
			margin-right calc((var(--baseline) / 2))
			margin-left calc(var(--baseline) * var(--marginLeft))
			text-align right
			content counter(listCounter, var(--listStyleType)) var(--listCounterSeparator)

	&Style
		&Position
			&Inside
				--listStylePosition inside

			&Outside
				--listStylePosition outside
				--marginLeft -2

		&Type
			&None
				--listStyleType none

				& > *:before
					display none

			&Disc
				--listStyleType disc

			&Circle
				--listStyleType circle

			&Square
				--listStyleType square

			&Decimal, ^[0]:is(ol)
				--listStyleType decimal
				--listCounterSeparator '.'

			&DecimalLeadingZero
				--listStyleType decimal-leading-zero
				--listCounterSeparator '.'

			&LowerRoman
				--listStyleType lower-roman
				--listCounterSeparator '.'

			&UpperRoman
				--listStyleType upper-roman
				--listCounterSeparator '.'

			&LowerLatin
				--listStyleType lower-latin
				--listCounterSeparator '.'

			&UpperLatin
				--listStyleType upper-latin
				--listCounterSeparator '.'

			&LowerAlpha
				--listStyleType lower-alpha
				--listCounterSeparator '.'

			&UpperAlpha
				--listStyleType upper-alpha
				--listCounterSeparator '.'

.font
	&Family
		&Default
			--FontFamily: $tk.FontFamilyDefault.val

		&Heading
			--FontFamily: $tk.FontFamilyHeading.val

		&Monospaced
			--FontFamily: $tk.FontFamilyMonospaced.val

	&Size
		&Large4
			--lines: $tk.FontSizeLarge4.varDef

		&Large3
			--lines: $tk.FontSizeLarge3.val

		&Large2
			--lines: $tk.FontSizeLarge2.val

		&Large1
			--lines: $tk.FontSizeLarge1.val

		&Large
			--lines: $tk.FontSizeLarge.val

		&Default
			--lines: $tk.FontSizeDefault.val

		&Small
			--lines: $tk.FontSizeSmall.val

		&Small1
			--lines: $tk.FontSizeSmall1.val

		&Small2
			--lines: $tk.FontSizeSmall2.val

	&Weight
		&9 // Black
			--FontWeight 900

		&8 // ExtraBold
			--FontWeight 800

		&7 // Bold
			--FontWeight 700

		&6 // SemiBold
			--FontWeight 600

		&5 // Medium
			--FontWeight 500

		&4 // Regular
			--FontWeight 400

		&3 // Light
			--FontWeight 300

		&2 // ExtraLight
			--FontWeight 200

		&1 // Thin
			--FontWeight 100

	&Style
		&Normal
			--FontStyle normal

		&Italic
			--FontStyle italic

.Text
	&Transform
		&Uppercase
			--TextTransform uppercase

		&Lowercase
			--TextTransform lowercase

		&Capitalize
			--TextTransform capitalize

		&None
			--TextTransform none

	&Align
		&Left
			--TextAlign left

		&Center
			--TextAlign center

		&Right
			--TextAlign right

		&Justify
			--TextAlign justify
